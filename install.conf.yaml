- defaults:
    link:
      relink: true
      create: true

- link:
    ~/.gitconfig: git/gitconfig
    ~/.npmrc: npmrc
    ~/.default-gems: default-gems
    ~/.aerospace.toml: aerospace.toml
    ~/.gitconfig-gitlab: git/gitconfig-gitlab
    ~/.gitignore: git/gitignore
    ~/.tmux.conf: tmux/tmux.conf
    ~/.ripgreprc: ripgreprc
    ~/.config/karabiner.edn: karabiner.edn
    ~/.config/zed/settings.json: zed/settings.json
    ~/.config/nvim/stylua.toml: stylua.toml
    ~/.config/borders/bordersrc: bordersrc
    ~/.config/topgrade.toml: topgrade.toml
    ~/Library/Application Support/lazygit/config.yml: lazygit/config.yml
    ~/.config/nvim/:
      glob: true
      force: true
      path: nvim/**
    ~/.config/fish/:
      glob: true
      force: true
      path: fish/**
    ~/.config/ghostty/:
      glob: true
      force: true
      path: ghostty/**
    ~/.config/bat/:
      glob: true
      force: true
      path: bat/**
    ~/.config/yazi/:
      glob: true
      force: true
      path: yazi/**
    ~/.config/atuin/:
      glob: true
      force: true
      path: atuin/**
    ~/.config/sketchybar/:
      glob: true
      force: true
      path: sketchybar/**
    ~/Library/Application Support/espanso:
      glob: true
      force: true
      path: espanso/**
    ~/.config/mise/:
      glob: true
      force: true
      path: mise/**

- create:
    - ~/Library/Application Support/lazygit

- shell:
    - description: "Install fisher - fish plugin manager"
      command: "curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source && fisher install jorgebucaran/fisher"
    - description: "Installing submodules"
      command: "git submodule update --init --recursive"
    - description: "Installing brew packages using ~/.dotfiles/Brewfile"
      command: "if command -v brew > /dev/null; then brew bundle; fi"
    - description: "Installing tmux plugin manager"
      command: "if test ! -d ~/.tmux/plugins/tpm; then git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm && ~/.tmux/plugins/tpm/bin/install_plugins; fi"
    - description: "Installing SBarLua"
      command: "(git clone https://github.com/FelixKratz/SbarLua.git /tmp/SbarLua && cd /tmp/SbarLua/ && make install && rm -rf /tmp/SbarLua/)"
    - description: "Installing sketchybar font"
      command: "curl -L https://github.com/kvndrsslr/sketchybar-app-font/releases/download/latest/sketchybar-app-font.ttf -o $HOME/Library/Fonts/sketchybar-app-font.ttf"
    - description: "Install npm packages in sketchybar items"
      command: "cd ~/.config/sketchybar/items/ && npm install"
