# Include any additional configuration file(s)
# [include] sections are processed in the order you write them
# Files in $CONFIG_DIR/topgrade.d/ are automatically included before this file
[include]
# paths = ["/etc/topgrade.toml"]

[misc]
# Disable specific steps - same options as the command line flag
disable = ["containers", "gcloud", "yazi", "gem", "pnpm"]

# Cleanup temporary or old files (default: false)
cleanup = true

# Commands to run before anything
[pre_commands]
# "Emacs Snapshot" = "rm -rf ~/.emacs.d/elpa.bak && cp -rl ~/.emacs.d/elpa ~/.emacs.d/elpa.bak"

# Commands to run after anything
[post_commands]
# "Emacs Snapshot" = "rm -rf ~/.emacs.d/elpa.bak && cp -rl ~/.emacs.d/elpa ~/.emacs.d/elpa.bak"
"Clean up brew" = "brew cleanup --prune=all"
"Dump Brewfile bundle" = "brew bundle dump --force --tap --cask --formula --services --tap --describe --force --file=~/.dotfiles/Brewfile"

# Custom commands
[commands]
# "Python Environment" = "~/dev/.env/bin/pip install -i https://pypi.python.org/simple -U --upgrade-strategy eager jupyter"
# "Custom command using interactive shell (unix)" = "-i vim_upgrade"
"Update tmux plugins" = "~/.tmux/plugins/tpm/bin/update_plugins all"

[composer]
self_update = true

[brew]
# For the BrewCask step
# If `Repo Cask Upgrade` exists, then use the `-a` option.
# Otherwise, use the `--greedy` option.
# greedy_cask = true

# For the BrewCask step
# If `Repo Cask Upgrade` does not exist, then use the `--greedy_latest` option.
# NOTE: the above entry `greedy_cask` contains this entry, though you can enable
# both of them, they won't clash with each other.
# greedy_latest = true

# For the BrewCask step
# If `Repo Cask Upgrade` does not exist, then use the `--greedy_auto_updates` option.
# NOTE: the above entry `greedy_cask` contains this entry, though you can enable
# both of them, they won't clash with each other.
# greedy_auto_updates = true

# For the BrewFormula step
# Execute `brew autoremove` after the step.
autoremove = true

# For the BrewFormula step
# Upgrade formulae built from the HEAD branch; `brew upgrade --fetch-HEAD`
fetch_head = true

[git]
# How many repos to pull or fetch at max in parallel
# max_concurrency = 5

# Additional git repositories to pull or fetch
repos = [
  "~/.dotfiles",
  # "~/.config/something"
]

# Set to `false` to skip pulling/fetching the predefined git repos
# pull_predefined = false

# Arguments to pass Git when pulling/fetching Repositories
# arguments = "--rebase --autostash"

# Whether to perform a `git fetch` instead of `git pull`
# fetch_only = false

[mise]
# Upgrades to the latest version available, bumping the version in mise.toml
# (default: false)
# bump = false

# Number of jobs to run in parallel
# (default: 4)
# jobs = 4

# Run interactively
# (default: false)
# interactive = false
